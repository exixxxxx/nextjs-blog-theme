---
layout: post 
title: "윈도우 11 윈도우 디펜더 보안 안열리는 문제 해결하는 방법"
---

# 윈도우 11 윈도우 디펜더 보안 안열리는 문제 해결하는 방법

마이크로소프트<sup>Microsoft</sup>에서 공식적으로 관련 내용을 버전에서 **Windows 보안** 관련으로 실행이 되지 않거나 보안 탭 자체가 사라지는 등 문제가 종종 발생합니다. 그리고 최근 까지도 업데이트를 진행한 경우에 간헐적으로 Windows 보안과 관련 된 이슈들이 마이크로소프트 커뮤니티 등을 통해 보고되고 있습니다.

업데이트가 초창기 버전이거나 윈도우 디펜더가 아닌 서드파티 백신 프로그램을 사용하는 경우 이로 인해 위와 같은 문제들이 발생될 수도 있는데 업데이트도 제대로 진행되었고 서드파티 백신 프로그램 또한 설치되어 있지 않다면 다음의 안내를 단계별로 수행하면 윈도우 11<sup>Windows 11</sup>에서 디펜더가 비활성화 되거나 먹통이 되는 증상을 해결할 수 있을 것 입니다.

---

```
튜토리얼 환경: 윈도우 11 Pro (빌드: 22621.819)
```

## Windows 보안 패키지 초기화 또는 재설치
파워쉘을 관리자 권한으로 실행 후 Windows 보안 패키지 재배포 또는 Windows 보안 재설치 명령을 수행하면 증상이 개선될 수 있습니다.
### 파워쉘 관리자 권한으로 실행

### Windows 보안 패키지 재배포
파워쉘을 관리자 권한으로 실행 후 윈도우 디펜더를 다시 초기 상태로 배포하게 되면 문제가 되는 부분을 초기상태로 돌릴 수 있으며 이 방법으로 일반적인 문제들은 대부분 해결 될 것 입니다.

파워쉘을 관리자 권한으로 열고 아래 명령을 실행합니다.

```
Get-AppxPackage Microsoft.SecHealthUI -AllUsers | Reset-AppxPackage
```

명령을 실행하면 위와 같이 배포작업이 잠시 진행되는데 이 과정이 완료되면 초기화가 완료된 것입니다. 

윈도우 설정 앱에서 *업데이트 및 보안* 의 *Windows 보안* 을 클릭하면 위와 같이 **이 파일을 열 때 사용할 방법을 선택하세요.** 라는 창이 팝업되는데 여기서 *Windows 보안* 을 선택 후 *확인* 버튼을 클릭합니다.

이렇게 윈도우 디펜더가 정상적으로 실해되는 것을 확인할 수 있습니다. 만약 이 단계에서 실행되지 않는 다면 다음 과정을 이어서 진행합니다.

### Windows 보안 재설치
이전과정에 안내한 초기화 방식으로 문제가 개선되지 않는다면 다시 파워쉘<sup>PowerShell</sup>에서 재설치명령으로 윈도우 디펜더를 새로 설치 할 수 있습니다.


```
Set-ExecutionPolicy Unrestricted
```


```
Get-AppXPackage -AllUsers | Foreach {Add-AppxPackage -DisableDevelopmentMode -Register "$($_.InstallLocation)\AppXManifest.xml"}.
```


## 보안 센터 서비스 다시 시작
대부분 위 과정으로 복구가 되지만 만약 여전히 작동에 문제가 있다면, 관련 서비스 또는 레지스트리 설정이 원인일 수 있습니다. 이를 점검하는 방법은 다음과 같습니다.

`services.msc`

*보안 센터* 서비스 다시 시작

만약 여기서 다시 시작이 회색으로 표시된다면 다음 단계로 건너뛰어도 무방합니다.

## AntiSpyware 활성화

레지스트리 편집기에서 윈도우 디펜더 관련 항목을 수정하면 문제가 개선될 수 있습니다.

### 레지스트리 편집기 실행 및 경로 이동

```
참고: [레지스트리 의 수정 과 편집]==링크==은 운영체제의 주요 정보를 변형 하는 것으로 만약 잘못 진행 할 경우 시스템이 손상될 가능 성이 있습니다. 작업 전에[레지스트리를 백업]==링크==하거나[윈도우 시스템을 백업]==링크==하길 권장합니다.
```

레지스트리 편집기를 여는 방법은 다양하지만 여기서는 실행창을 이용합니다. 우선 실행 단축키인 <kbd>Win</kbd> + <kbd>R</kbd> 키를 입력 해 **실행**창을 열고 *열기(O):* 옆 필드에 `regedit` 이라고 입력 후 *확인* 버튼을 클릭 하거나 <kbd>Enter</kbd>키를 눌러 줍니다.

현재 사용 중인 윈도우 계정의 권한 수준에 따라 '이 앱이 디바이스를 변경할 수 있도록 허용하시겠어요?' 라는 제목의 *사용자 계정 컨트롤* 패널이 보여질 수 있습니다. 안내하는 내용을 확인 후 설치를 계속 진행 하고 싶다면 *예* 버튼을 클릭합니다.


아래 올려둔 경로로 진입 해 *Windows Defender* 서브 키로 이동 합니다. **레지스트리 편집기** 상단 주소 입력 창에 아래 경로를 그대로 붙여넣기 ( <kbd>Ctrl</kbd> + <kbd>V</kbd> ) 하면 조금 더 빠르게 이동 할 수 있습니다.
```
컴퓨터\HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows Defender
```

### DisableAntiSpyware 값 수정
Windows Defender키 이동 후 DisableAntiSpyware 값을 찾아 수정합니다. 만약 해당 키를 찾을 수 없다면 새로 생성해야 합니다.


DWORD(32비트) 값 을 0으로 

Windows Defender키를 선택하면 오른쪽 컨테이너에 `DisableAntiSpyware` 라는 이름의 값을 찾을 수 있습니다. 이 값을 마우스로 두 번 클릭 하거나 컨텍스트 메뉴<small>마우스 오른쪽 버튼으로 클릭 하면 열리는 메뉴</small>에서 *수정(M)* 을 선택 해 값 편집 창을 열어줍니다.

DWORD(32비트) 편집창에서 *값 데이터(V)* 필드의 값을 `0` 으로 지정 후 *확인* 버튼을 클릭해 설정 내용을 반영합니다.

### 적용하기
변경 된 설정을 업데이트 하기 위해  [explorer.exe 프로세스를 다시 시작](https://iboxcomein.com/restart-the-file-explorer-process/)하거나 윈도우 시스템을 재시작(권장)합니다.

이제 Windows Defender 가 정상적으로 실행되는지 체크합니다. 기본적으로 할 수 있는 조치들은 다 했다고 볼 수 있는데요. 만약 여기서도 개선이되지 않는다면 다음 과정으로 원인을 찾아 문제가 되는 부분을 해결해야 합니다.
## 클린 부팅에서 확인
만약 위 방식으로 문제가 해결되지 않는 다면 윈도우를 처음 설치한 것처럼 깨끗한 상태로 부팅해 시스템과의 충돌 여부를 체크해 문제의 원인이 윈도우 시스템인지 다른 프로그램인지 찾을 수 있습니다.

특정 프로그램 과의 충돌 등이 발생 하는 경우 클린 부팅 상태에서 원인을 찾아 볼 수 있음니. 클린 부팅은 윈도우의 기본 적인 필수 항목만 실행 된 상태입니다. 이 클린 부팅 상태로 윈도우를 실행 후 문제가 개선 되는 지 확인 해 볼 수 있을 것 있니다. 클린 부팅 환경에서 문제 찾는 방법==링크 삽입== 에서 자세한 진행 절차를 확인 할 수 있습니다.
## 윈도우 자체 복구
클린 부팅으로 시스템 자체 문제가 확인되었다면 [명령 프롬프트를 관리자 권한으로 실행](https://comeinsidebox.com/how-to-run-command-prompt/https://comeinsidebox.com/how-to-run-command-prompt/) 후 윈도우 복구 도구인  SFC.exe를 사용 하여 시스템 오류를 자체적으로 복구할 수 있습니다.

> 참고: [자신 의 윈도우 버전을 확인](https://comeinsidebox.com/%ec%9c%88%eb%8f%84%ec%9a%b0%ec%9d%98-%ec%9a%b4%ec%98%81-%eb%b2%84%ec%a0%84%ec%9d%84-%ed%99%95%ec%9d%b8%ed%95%98%eb%8a%94-%eb%b0%a9%eb%b2%95-%eb%b9%84%ed%8a%b8-%eb%b2%84%ec%a0%84-%eb%b9%8c%eb%93%9c/#more-8289) 후 Windows 10, Windows 8.1 또는 Windows 8을 사용하고 있는 경우 시스템 파일 검사기를 실행하기 전에 아래 DISM (배포 이미지 서비스 및 관리) 도구 를 먼저 실행 해주어야 합니다. 이하 버전은 바로 SFC.exe 도구를 실행 하면 됩니다.

#### DISM ( 배포 이미지 서비스 및 관리 ) 도구 실행

```
  Dism /online /cleanup-image /restorehealth
```

1. 위 커맨드를 입력 줄에 작성 후 <kbd>Enter</kbd>키를 눌러 DISM ( 배포 이미지 서비스 및 관리 ) 도구를 실행합니다.
2. 명령어 입력 후 복구 작업에 시간이 조금 소요 되니 기다려 줍니다.

#### sfc /scannow ( 시스템 파일 검사기 ) 도구 실행

```
  sfc /scannow
```

위 커맨드를 입력 줄에 작성 후 <kbd>Enter</kbd> 키를 눌러 sfc /scannow ( 시스템 파일 검사기 ) 도구를 실행합니다. 명령어 입력 후 복구 작업에 시간이 조금 소요 되니 기다려 줍니다.

> 참고: [윈도우 10 오류 발생 손상 파일 발견 시 오류 체크 무결성 검사하는 방법]==링크==에서 좀 더 자세한 설명을 확인 할 수 있습니다.

## 마치며
이번 포스트에서는 윈도우 11에서 Windows 보안이 비활성화되거나 정상적으로 동작하지 않는  오류 발생시 이를 해결하는 방법들에 대해 알아보았습니다. 내용이 길어 복잡해 보일 수 있지만 일반적인 문제라면 처음 파워쉘 명령을 사용해 초기화하거나 재설치 하면 정상적으로 실행이 될 것입니다.

이렇게, 윈도우 11에서 Windows 보안과 관련 된  문제가 있다면 위 과정에 안내한 단계에 따라 하나씩 체크 해 문제를 해결 해 보시길 바랍니다.

## 관련 글
- [윈도우11 보안부팅 TPM 없어도 설치 하는 방법 우회 절차 안내](https://comeinsidebox.com/%ec%9c%88%eb%8f%84%ec%9a%b011-%eb%b3%b4%ec%95%88%eb%b6%80%ed%8c%85-tpm-%ec%97%86%ec%96%b4%eb%8f%84-%ec%84%a4%ec%b9%98-%ed%95%98%eb%8a%94-%eb%b0%a9%eb%b2%95-%ec%9a%b0%ed%9a%8c-%ec%a0%88%ec%b0%a8/)
- [윈도우에서 보안 부팅 활성화 체크하는 방법 그리고 UEFI 모드 와 레거시 모드](https://comeinsidebox.com/check-enable-secure-boot-in-windows/)
- [윈도우에서 은행 공공기관 보안 프로그램을 한번에 제거 하는 방법](https://comeinsidebox.com/uninstall-security-programs/)
- [윈도우 11 시작 메뉴 먹통 오류 문제를 해결하는 방법들 - insideBOX](https://comeinsidebox.com/how-to-fix-windows-11-start-menu-errors/)
